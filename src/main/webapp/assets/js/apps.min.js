$( document ).ready(function() {
    console.log( "ready!" );
    resolve_slider();
    handle_tables();
});



function handle_tables() {
	$(".istar_data_table").each(function(index) {
		var header_name = "";
		var db_name = "";
		var idd = $(this).attr("id");
		var hql_query = $(this).data("hql_query");
		var sql_query = $(this).data("sql_query");
		$("#" + idd + " th").each(function() {
			$this = $(this);
			header_name = header_name + "___" + $(this).data('column_alias');
			db_name = db_name + "___" + $(this).data('db_alias');
		});
		 $('#' + idd).DataTable({
			"processing" : true,
			"serverSide" : true,
			"ajax" : "/istar/generic_list?header_names=" + header_name + "&hql_query=" + hql_query+"&sql_query=" + sql_query+"&db_name="+db_name,
			"pageLength" : 10
		}); 
});
}
function resolve_slider() {
	$('.slick_slider_holder').slick({
		  infinite: false,
		  slidesToShow: 4,
		  slidesToScroll: 4
		});
	
	$('.card .slide_item ').equalHeights();
	//		$('#equalheight div').equalHeights();

	$( ".report_card_group" ).click(function() {
		 window.location.href = "/istar/group_details.jsp?group_id="+$(this).data('group_id');

	 });
}


(function($) {

    $.fn.equalHeights = function() {
        var maxHeight = 0,
            $this = $(this);

        $this.each( function() {
            var height = $(this).innerHeight();

            if ( height > maxHeight ) { maxHeight = height; }
        });

        return $this.css('height', maxHeight);
    };

    // auto-initialize plugin
    $('[data-equal]').each(function(){
        var $this = $(this),
            target = $this.data('equal');
        $this.find(target).equalHeights();
    });

})(jQuery);